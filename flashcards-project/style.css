/* Basic Setup */
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    overflow: hidden; /* Prevents scrollbars during animation */
}

/* Main container for the two shutters */
.main-container {
    display: flex;
    width: 100%;
    height: 100vh; /* Full viewport height */
}

/* Individual shutter styling */
.shutter {
    flex: 1; /* Start by taking up equal space */
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-size: cover;
    background-position: center;
    /* UPDATED: Added background-color to the transition for a smooth color change */
    transition: flex 0.7s ease-in-out, background-color 0.5s ease;
    cursor: pointer;
}

/* Titles on the shutters */
.shutter h2 {
    color: white;
    font-size: 3vw;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
    transition: opacity 0.5s ease;
}

/* --- Default State (With Images) --- */
#rights-shutter {
    /* Image for the rights shutter */
    background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=2070&auto=format&fit=crop');
}

#duties-shutter {
    /* Image for the duties shutter */
    background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop');
}

/* --- The "Open" State (With Solid Colors) --- */

.shutter.open {
    flex: 4; /* Takes up much more space */
    cursor: default;
}

/* NEW: When open, shutters get a solid color and lose their image */
#rights-shutter.open {
    background-image: none;
    background-color: #0d2c4f; /* A deep blue color */
}

#duties-shutter.open {
    background-image: none;
    background-color: #0e3b23; /* A deep green color */
}

/* When a shutter is open, its title fades out */
.shutter.open h2 {
    opacity: 0;
}

/* --- Flashcard Container & Cards (No changes below this line) --- */
.flashcard-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-content: center;
    gap: 15px;
    padding: 20px;
    box-sizing: border-box;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease-in-out 0.4s, transform 0.5s ease-in-out 0.4s;
    overflow-y: auto;
}

.shutter.open .flashcard-container {
    opacity: 1;
    transform: translateY(0);
}

.card {
    width: 220px;
    height: 160px;
    perspective: 1000px;
    cursor: pointer;
}

.card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.card.flipped .card-inner {
    transform: rotateY(180deg);
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px;
    box-sizing: border-box;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    text-align: center;
    font-size: 1em;
    font-weight: 500;
    color: white;
}

.card-back {
    transform: rotateY(180deg);
}

.card-blue .card-front { background: linear-gradient(135deg, #007bff, #0056b3); }
.card-blue .card-back { background: linear-gradient(135deg, #17a2b8, #007bff); }
.card-orange .card-front { background: linear-gradient(135deg, #fd7e14, #e85a19); }
.card-orange .card-back { background: linear-gradient(135deg, #ffc107, #fd7e14); }
.card-green .card-front { background: linear-gradient(135deg, #28a745, #198754); }
.card-green .card-back { background: linear-gradient(135deg, #20c997, #28a745); }
